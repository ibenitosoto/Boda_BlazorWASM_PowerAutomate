@page "/"
<link rel="stylesheet" href="./css/custom-fonts.css" />

@using Boda_BlazorWASM_PowerAutomate.Components;
@using Boda_BlazorWASM_PowerAutomate.Models;
@using System.ComponentModel.DataAnnotations

<PageTitle>Boda MIsabel & Nacho</PageTitle>

@* <MudText Typo="Typo.h3" GutterBottom="true">Hello, world!</MudText>
 *@

@*  <div class="d-flex justify-center">
    <MudImage ObjectFit="ObjectFit.Cover" Height="200" Width="400" Src=".\images\fotoMaizal.jpg" Alt="Foto maizal" Class="rounded-lg" />
</div> *@

<div class="container">
    <img src="/images/hojas.svg" alt="Vector Image" class="hojas">
    <img src="/images/rama1.svg" alt="Vector Image" class="rama1">
</div>


<div class="flex-container">

    <div class="foto1">
        <MudContainer Class="text-overlay flex-column align-center justify-center mud-width-full">
            <MudText Class="mt-14 mb-6 quicksandBook" Align="Align.Center" Color="Color.Secondary" Typo="Typo.h4">¡Nos casamos!</MudText>

            <MudText Class="pa-2 bacalisties" Color="Color.Primary" Align="Align.Center" Typo="Typo.h2">M. Isabel</MudText>
            <MudText Class="pa-2 bacalisties" Color="Color.Primary" Align="Align.Center" Typo="Typo.h2">y</MudText>
            <MudText Class="pa-2 bacalisties" Color="Color.Primary" Align="Align.Center" Typo="Typo.h2">Nacho</MudText>

            <MudText Class="mt-8 quicksandBook" Align="Align.Center" Color="Color.Secondary" Typo="Typo.h5">Ceremonia: Campanario, Badajoz</MudText>
            <MudText Class="quicksandBook" Align="Align.Center" Color="Color.Secondary" Typo="Typo.h5">Celebración: Medellín, Badajoz</MudText>

        </MudContainer>

    </div>

</div>

<div class="container">
    <img src="/images/hojas.svg" alt="Vector Image" class="hojas">
    <img src="/images/rama1.svg" alt="Vector Image" class="rama1">
</div>

<div class="container">
    <div class="vertical-line"></div>
</div>

<MudGrid>

    <MudItem Class="mt-5" xs="12">
        <TimelineBoda></TimelineBoda>
    </MudItem>

    <MudItem xs="12">
        <MudContainer Class="flex-column align-center justify-center mud-width-full">
            <MudText Class="mt-7 butterfly" Align="Align.Center" Color="Color.Primary" Typo="Typo.h3">¿Nos confirmas tu asistencia?</MudText>
        </MudContainer>

        <div class="d-flex align-center justify-center mt-15 mb-15">
            <MudButton OnClick="ConfirmAttendance" StartIcon="@Icons.Material.Filled.RocketLaunch" EndIcon="@Icons.Material.Filled.RocketLaunch" Variant="Variant.Filled" Size="Size.Large" Color="Color.Secondary">CONFIRMO</MudButton>
        </div>
    </MudItem>

    @if (IsAttendanceConfirmed)
    {
        <MudItem Class="mt-2" xs="12">
            <MudText Class="mt-10 butterfly" Color="Color.Primary" Align="Align.Center" Typo="Typo.h2">¡Genial!</MudText>
            <MudText Class="mt-10 hellovalentica" Color="Color.Primary" Align="Align.Center" Typo="Typo.h3">Danos algunos datos para confirmar tu asistencia</MudText>

            <div class="d-flex mt-8 align-center justify-center">
                <MudRadioGroup T="string" @bind-SelectedOption="@SelectedOptionAcompañante" Required="true" RequiredError="Por favor di si vienes sola/o o con pareja!">
                    <MudRadio Option="@("Option1")">Voy SIN acompañante</MudRadio>
                    <MudRadio Option="@("Option2")">Voy CON acompañante</MudRadio>
                </MudRadioGroup>
            </div>

            @if (IsAttendanceConfirmed && SelectedOptionAcompañante == "Option1")
            {
                <MudText Class="mt-6 hellovalentica" Color="Color.Primary" Align="Align.Center" Typo="Typo.h3">tus datos</MudText>
                <FormAsistencia></FormAsistencia>
            }
            else if (IsAttendanceConfirmed && SelectedOptionAcompañante == "Option2")
            {
                <MudText Class="mt-6 hellovalentica" Color="Color.Primary" Align="Align.Center" Typo="Typo.h3">tus datos</MudText>
                <FormAsistencia></FormAsistencia>
                <MudText Class="mt-6 hellovalentica" Color="Color.Primary" Align="Align.Center" Typo="Typo.h3">datos de tu acompañante</MudText>
                <FormAsistencia></FormAsistencia>
            }

        </MudItem>
    }

</MudGrid>




<style>
    .flex-container div {
        width: 100vw;
        height: 100vh;
    }

    .foto1 {
        /* background-color: var(--color1); */
        /* background-image: url('images/fotoMaizal2.jpg');  */
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        display: flex;
        justify-content: center;
        align-items: center;
        position: relative;
        /* background-color: #BFD09A; */
    }

        .foto1::before {
            content: "";
            background-color: rgba(191, 208, 154, 0.1); /* Adjust the opacity as needed */
            position: absolute;
            top: 0;
            right: 0;
            bottom: 0;
            left: 0;
            margin: 40px;
            border: 2px solid #BFD09A;

        }

    .text-overlay {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        text-align: center;
        z-index: 1;
        display: flex;
        flex-direction: column;
        gap: 25px;
    }


    .foto2 {
        /* background-color: var(--color1); */
        /* background-image: url('images/fotoSantiago2.jpg'); */
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        justify-content: center;
        align-items: center;
    }

    .container {
        display: flex;
        align-items: center;
        justify-content: center;
        
    }

    .vertical-line {
        border-left: 2px solid; /* Adjust thickness and color as needed */
        color: #BFD09A;
        height: 200px; /* Adjust height as needed */
    }

    .container {
        position: relative;
        /* Add other styles for your content container if needed */
    }

    .hojas {
        position: absolute;
        top: 5%; /* Adjust this value to control the distance from the top */
        left: 0; /* Adjust this value to control the distance from the left */
        /* You can also use right: 0; for sticking to the right side */
        width: 100px; /* Adjust the width as needed */
        height: auto; /* Maintain the aspect ratio */
        /* You can also use max-width or max-height to set limits *
        /* Add other styles for your image if needed */
        margin-top: -5px;
    }

    .rama1 {
        position: absolute;
        top: 0; /* Adjust this value to control the distance from the top */
        right: 0; /* Adjust this value to control the distance from the left */
        /* You can also use right: 0; for sticking to the right side */
        width: 300px; /* Adjust the width as needed */
        height: auto; /* Maintain the aspect ratio */
        /* You can also use max-width or max-height to set limits *
            /* Add other styles for your image if needed */
        margin-top: -50px;
    }

</style>

@code {
    bool success;
    string[] errors = { };
    MudTextField<string> pwField1;
    MudForm form;

    public bool IsAttendanceConfirmed { get; set; } = false;
    public string SelectedOptionAcompañante { get; set; }

    MudDatePicker _picker;
    DateTime? date;
    DateTime weddingDate = new System.DateTime(2024, 04, 20);

    protected override void OnInitialized()
    {

    }


    private void ConfirmAttendance()
    {
        IsAttendanceConfirmed = true;
    }


    // protected override void OnAfterRender(bool firstRender)
    // {
    //     if (firstRender)
    //     {
    //         _picker.GoToDate(weddingDate);
    //         date = weddingDate;
    //     }
    // }

    // private async Task Today()
    // {
    //     await _picker.GoToDate(DateTime.Today);
    //     date = DateTime.Today;
    // }

    // private async Task WeddingDate()
    // {
    //     await _picker.GoToDate(weddingDate);
    //     date = weddingDate;
    // }

    private string valueMenu { get; set; } = "Nada seleccionado";
    private IEnumerable<string> opcionesMenu { get; set; } = new HashSet<string>();

    private string[] intolerancias =
      {
        "Nada", "Lactosa", "Gluten", "Marisco", "Menú vegetariano", "Menú vegano", "Otros"
    };

    private string valueBus { get; set; } = "Nada seleccionado";
    private IEnumerable<string> opcionesBus { get; set; } = new HashSet<string>();
    private string[] buses =
      {
        "Ninguno",
        "14:30 Campanario (Ceremonia) - Quinto Cecilio (Banquete)", 
        "01:00 Quinto Cecilio (Banquete) - Medellín",
        "01:00 Quinto Cecilio (Banquete) - Campanario",
    };


}


